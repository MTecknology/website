Nginx vs. Apache
################
:desc: Some very basic benchmarks with nginx and apache
:date: 2010-03-01 05:37
:tags: nginx, apache, reviews

warning: no proof reading and some rambling...

I recently made the change to Nginx from Apache. This change came with a
severe lack of fun and enjoyment. The whole process was >150 hours.
Painstaking. It should be pretty easy to move this to my production
server, probably be much much easier. I have yet to even touch using it
as a proxy.

Was the change worth it? I'd have to start by saying the reason for the
switch is a cap in RAM and system that we can utilize. We were hitting
our heads on that ceiling and frankly, going out to invest in more
memory and a host of other crap just didn't feel like the Linux way. It
felt like the Windows way.

The raw data was generated by "``top -b -d 04.00 -n 45 > file-httpd``".
After parsing the output I now know a few more options to top would have
been a good idea. The total disk size of this data came to 2.1MB. That's
too much to post here. The summary contains a nicer collection of this
information and does not have modified values.

The results we got are summarized the OOo document attached.
(Benchmark.ods)

The test was pretty informal:

::

    start httpd
    tell group to hammer sites (after clearing cache)
    wait until top finishes
    kill httpd
    tell group to clear cache and get ready for new httpd
    did with apache running; nginx running; no httpd/users (null)

The summary:

Nginx clearly beats Apache.

Was the difference enough for me to get excited? YES!

Attachments:

|image0| `Benchmark.ods`_

.. _Benchmark.ods: /files/uploads/Benchmark.ods
.. |image0| image:: /files/icons/x-office-spreadsheet.png
